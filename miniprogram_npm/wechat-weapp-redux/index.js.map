{"version":3,"sources":["index.js","Provider.js","warning.js","utils/Object.js","connect.js","shallowEqual.js","wrapActionCreators.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA,AENA;ADIA,ADGA,AENA;ADIA,ADGA,AENA;ADIA,ADGA,AGTA,ADGA;ADIA,ADGA,AGTA,ADGA;ADIA,ADGA,AGTA,ADGA;ADIA,AGTA,AJYA,AGTA,ADGA;ADIA,AGTA,AJYA,AGTA,ADGA;ADIA,AGTA,AJYA,AGTA,ADGA;ADIA,AGTA,AJYA,AKfA,AFMA,ADGA;ADIA,AGTA,ACHA,AFMA,ADGA;ADIA,AGTA,ACHA,AFMA,ADGA;ADIA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;ALgBA,AGTA,ACHA,AFMA,ADGA,AIZA;AFOA,ACHA,AFMA,AGTA;AFOA,ACHA,AFMA,AGTA;AFOA,ACHA,AFMA,AGTA;AFOA,ACHA,AFMA,AGTA;AFOA,ACHA,AFMA,AGTA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,ACHA,ACHA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA,AENA;AFOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["'use strict';\n\nvar _Provider = require('./Provider.js');\n\nvar _Provider2 = _interopRequireDefault(_Provider);\n\nvar _connect = require('./connect.js');\n\nvar _connect2 = _interopRequireDefault(_connect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  Provider: _Provider2.default,\n  connect: _connect2.default\n};","'use strict';\n\nvar _warning = require('./warning.js');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _Object = require('./utils/Object.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction checkStoreShape(store) {\n  var missingMethods = ['subscribe', 'dispatch', 'getState'].filter(function (m) {\n    return !store.hasOwnProperty(m);\n  });\n\n  if (missingMethods.length > 0) {\n    (0, _warning2.default)('Store似乎不是一个合法的Redux Store对象: ' + '缺少这些方法: ' + missingMethods.join(', ') + '。');\n  }\n}\n\nfunction Provider(store) {\n  checkStoreShape(store);\n  return function (appConfig) {\n    return (0, _Object.assign)({}, appConfig, { store: store });\n  };\n}\n\nmodule.exports = Provider;","'use strict';\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\nmodule.exports = warning;","'use strict';\n\nvar assign = function assign(target) {\n    'use strict';\n    // We must check against these specific cases.\n\n    if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var output = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n        if (source !== undefined && source !== null) {\n            for (var nextKey in source) {\n                if (source.hasOwnProperty(nextKey)) {\n                    output[nextKey] = source[nextKey];\n                }\n            }\n        }\n    }\n    return output;\n};\n\nmodule.exports = {\n    assign: assign\n};","'use strict';\n\nvar _shallowEqual = require('./shallowEqual.js');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _warning = require('./warning.js');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _wrapActionCreators = require('./wrapActionCreators.js');\n\nvar _wrapActionCreators2 = _interopRequireDefault(_wrapActionCreators);\n\nvar _Object = require('./utils/Object.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultMapStateToProps = function defaultMapStateToProps(state) {\n  return {};\n}; // eslint-disable-line no-unused-vars\nvar defaultMapDispatchToProps = function defaultMapDispatchToProps(dispatch) {\n  return { dispatch: dispatch };\n};\n\nfunction connect(mapStateToProps, mapDispatchToProps) {\n  var shouldSubscribe = Boolean(mapStateToProps);\n  var mapState = mapStateToProps || defaultMapStateToProps;\n  var app = getApp();\n\n  var mapDispatch = void 0;\n  if (typeof mapDispatchToProps === 'function') {\n    mapDispatch = mapDispatchToProps;\n  } else if (!mapDispatchToProps) {\n    mapDispatch = defaultMapDispatchToProps;\n  } else {\n    mapDispatch = (0, _wrapActionCreators2.default)(mapDispatchToProps);\n  }\n\n  return function wrapWithConnect(pageConfig) {\n\n    function handleChange(options) {\n      if (!this.unsubscribe) {\n        return;\n      }\n\n      var state = this.store.getState();\n      var mappedState = mapState(state, options);\n      if (!this.data || (0, _shallowEqual2.default)(this.data, mappedState)) {\n        return;\n      }\n      this.setData(mappedState);\n    }\n\n    var _onLoad = pageConfig.onLoad,\n        _onUnload = pageConfig.onUnload;\n\n\n    function onLoad(options) {\n      this.store = app.store;\n      if (!this.store) {\n        (0, _warning2.default)(\"Store对象不存在!\");\n      }\n      if (shouldSubscribe) {\n        this.unsubscribe = this.store.subscribe(handleChange.bind(this, options));\n        handleChange.call(this, options);\n      }\n      if (typeof _onLoad === 'function') {\n        _onLoad.call(this, options);\n      }\n    }\n\n    function onUnload() {\n      if (typeof _onUnload === 'function') {\n        _onUnload.call(this);\n      }\n      typeof this.unsubscribe === 'function' && this.unsubscribe();\n    }\n\n    return (0, _Object.assign)({}, pageConfig, mapDispatch(app.store.dispatch), { onLoad: onLoad, onUnload: onUnload });\n  };\n}\n\nmodule.exports = connect;","\"use strict\";\n\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqual;","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if ((typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\nfunction wrapActionCreators(actionCreators) {\n  return function (dispatch) {\n    return bindActionCreators(actionCreators, dispatch);\n  };\n}\n\nmodule.exports = wrapActionCreators;"]}